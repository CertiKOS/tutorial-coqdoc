<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>compcert.backend.Bounds</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library compcert.backend.Bounds</h1>

<div class="code">

<br/>
</div>

<div class="doc">
Computation of resource bounds for Linear code. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.FSets.FSets.html#"><span class="id" title="library">FSets</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.FSets.FSetAVL.html#"><span class="id" title="library">FSetAVL</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.lib.Coqlib.html#"><span class="id" title="library">Coqlib</span></a> <a class="idref" href="compcert.lib.Ordered.html#"><span class="id" title="library">Ordered</span></a>.<br/>
<span class="id" title="keyword">Require</span> <a class="idref" href="compcert.lib.Intv.html#"><span class="id" title="library">Intv</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.common.AST.html#"><span class="id" title="library">AST</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.x86.Op.html#"><span class="id" title="library">Op</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.x86.Machregs.html#"><span class="id" title="library">Machregs</span></a> <a class="idref" href="compcert.backend.Locations.html#"><span class="id" title="library">Locations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.backend.Linear.html#"><span class="id" title="library">Linear</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.backend.Conventions.html#"><span class="id" title="library">Conventions</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a name="RegOrd"><span class="id" title="module">RegOrd</span></a> := <a class="idref" href="compcert.lib.Ordered.html#OrderedIndexed"><span class="id" title="module">OrderedIndexed</span></a> (<a class="idref" href="compcert.x86.Machregs.html#IndexedMreg"><span class="id" title="module">IndexedMreg</span></a>).<br/>
<span class="id" title="keyword">Module</span> <a name="RegSet"><span class="id" title="module">RegSet</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.FSets.FSetAVL.html#Make"><span class="id" title="module">FSetAVL.Make</span></a> (<a class="idref" href="compcert.backend.Bounds.html#RegOrd"><span class="id" title="module">RegOrd</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab426"></a><h1 class="section">Resource bounds for a function</h1>

<div class="paragraph"> </div>

 The <span class="inlinecode"><a class="idref" href="compcert.backend.Bounds.html#bounds"><span class="id" title="record">bounds</span></a></span> record capture how many local and outgoing stack slots
  and callee-save registers are used by a function. 
<div class="paragraph"> </div>

 We demand that all bounds are positive or null.
  These properties are used later to reason about the layout of
  the activation record. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a name="bounds"><span class="id" title="record">bounds</span></a> : <span class="id" title="keyword">Type</span> := <a name="mkbounds"><span class="id" title="constructor">mkbounds</span></a> {<br/>
&nbsp;&nbsp;<a name="used_callee_save"><span class="id" title="projection">used_callee_save</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>;<br/>
&nbsp;&nbsp;<a name="bound_local"><span class="id" title="projection">bound_local</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="bound_stack_data"><span class="id" title="projection">bound_stack_data</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="bound_local_pos"><span class="id" title="projection">bound_local_pos</span></a>: <a class="idref" href="compcert.backend.Bounds.html#bound_local"><span class="id" title="method">bound_local</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0;<br/>
&nbsp;&nbsp;<a name="bound_outgoing_pos"><span class="id" title="projection">bound_outgoing_pos</span></a>: <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="method">bound_outgoing</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0;<br/>
&nbsp;&nbsp;<a name="bound_stack_data_pos"><span class="id" title="projection">bound_stack_data_pos</span></a>: <a class="idref" href="compcert.backend.Bounds.html#bound_stack_data"><span class="id" title="method">bound_stack_data</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0;<br/>
&nbsp;&nbsp;<a name="used_callee_save_norepet"><span class="id" title="projection">used_callee_save_norepet</span></a>: <a class="idref" href="compcert.lib.Coqlib.html#list_norepet"><span class="id" title="inductive">list_norepet</span></a> <a class="idref" href="compcert.backend.Bounds.html#used_callee_save"><span class="id" title="method">used_callee_save</span></a>;<br/>
&nbsp;&nbsp;<a name="used_callee_save_prop"><span class="id" title="projection">used_callee_save_prop</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#used_callee_save"><span class="id" title="method">used_callee_save</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a><br/>
}.<br/>

<br/>
</div>

<div class="doc">
The following predicates define the correctness of a set of bounds
    for the code of a function. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="WITHIN_BOUNDS"><span class="id" title="section">WITHIN_BOUNDS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="WITHIN_BOUNDS.b"><span class="id" title="variable">b</span></a>: <a class="idref" href="compcert.backend.Bounds.html#bounds"><span class="id" title="record">bounds</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> (<span class="id" title="var">r</span>: <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="compcert.backend.Bounds.html#used_callee_save"><span class="id" title="projection">used_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#WITHIN_BOUNDS.b"><span class="id" title="variable">b</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a> (<span class="id" title="var">sl</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a>) (<span class="id" title="var">ofs</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">ty</span>: <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <span class="id" title="keyword">Local</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_local"><span class="id" title="projection">bound_local</span></a> <a class="idref" href="compcert.backend.Bounds.html#WITHIN_BOUNDS.b"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Locations.html#Outgoing"><span class="id" title="constructor">Outgoing</span></a> ⇒ <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a> <a class="idref" href="compcert.backend.Bounds.html#WITHIN_BOUNDS.b"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Locations.html#Incoming"><span class="id" title="constructor">Incoming</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="instr_within_bounds"><span class="id" title="definition">instr_within_bounds</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lgetstack"><span class="id" title="constructor">Lgetstack</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lsetstack"><span class="id" title="constructor">Lsetstack</span></a> <span class="id" title="var">r</span> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lop"><span class="id" title="constructor">Lop</span></a> <span class="id" title="var">op</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> <span class="id" title="var">res</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lload"><span class="id" title="constructor">Lload</span></a> <span class="id" title="var">chunk</span> <span class="id" title="var">addr</span> <span class="id" title="var">args</span> <span class="id" title="var">dst</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> <span class="id" title="var">dst</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lcall"><span class="id" title="constructor">Lcall</span></a> <span class="id" title="var">sig</span> <span class="id" title="var">ros</span> ⇒ <a class="idref" href="compcert.x86.Conventions1.html#size_arguments"><span class="id" title="definition">size_arguments</span></a> <span class="id" title="var">sig</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a> <a class="idref" href="compcert.backend.Bounds.html#WITHIN_BOUNDS.b"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lbuiltin"><span class="id" title="constructor">Lbuiltin</span></a> <span class="id" title="var">ef</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">r</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="compcert.common.AST.html#params_of_builtin_res"><span class="id" title="definition">params_of_builtin_res</span></a> <span class="id" title="var">res</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="compcert.x86.Machregs.html#destroyed_by_builtin"><span class="id" title="definition">destroyed_by_builtin</span></a> <span class="id" title="var">ef</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="compcert.backend.Locations.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a>) (<a class="idref" href="compcert.common.AST.html#params_of_builtin_args"><span class="id" title="definition">params_of_builtin_args</span></a> <span class="id" title="var">args</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="compcert.backend.Bounds.html#WITHIN_BOUNDS"><span class="id" title="section">WITHIN_BOUNDS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="function_within_bounds"><span class="id" title="definition">function_within_bounds</span></a> (<span class="id" title="var">f</span>: <a class="idref" href="compcert.backend.Linear.html#function"><span class="id" title="record">function</span></a>) (<span class="id" title="var">b</span>: <a class="idref" href="compcert.backend.Bounds.html#bounds"><span class="id" title="record">bounds</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">instr</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#instr"><span class="id" title="variable">instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#instr_within_bounds"><span class="id" title="definition">instr_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="compcert.backend.Bounds.html#instr"><span class="id" title="variable">instr</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab427"></a><h1 class="section">Inference of resource bounds for a function</h1>

<div class="paragraph"> </div>

 The resource bounds for a function are computed by a linear scan
  of its instructions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a name="BOUNDS"><span class="id" title="section">BOUNDS</span></a>.<br/>

<br/>
<span class="id" title="keyword">Variable</span> <a name="BOUNDS.f"><span class="id" title="variable">f</span></a>: <a class="idref" href="compcert.backend.Linear.html#function"><span class="id" title="record">function</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="record_reg"><span class="id" title="definition">record_reg</span></a> (<span class="id" title="var">u</span>: <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a>) (<span class="id" title="var">r</span>: <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>) : <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="compcert.backend.Bounds.html#add"><span class="id" title="definition">RegSet.add</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="record_regs"><span class="id" title="definition">record_regs</span></a> (<span class="id" title="var">u</span>: <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a>) (<span class="id" title="var">rl</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>) : <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a>.<br/>

<br/>
</div>

<div class="doc">
In the proof of the <span class="inlinecode"><span class="id" title="var">Stacking</span></span> pass, we only need to bound the
  registers written by an instruction.  Therefore, we examine the
  result registers only, not the argument registers. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="record_regs_of_instr"><span class="id" title="definition">record_regs_of_instr</span></a> (<span class="id" title="var">u</span>: <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a>) (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) : <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lgetstack"><span class="id" title="constructor">Lgetstack</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lsetstack"><span class="id" title="constructor">Lsetstack</span></a> <span class="id" title="var">r</span> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lop"><span class="id" title="constructor">Lop</span></a> <span class="id" title="var">op</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">res</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lload"><span class="id" title="constructor">Lload</span></a> <span class="id" title="var">chunk</span> <span class="id" title="var">addr</span> <span class="id" title="var">args</span> <span class="id" title="var">dst</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <span class="id" title="var">dst</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lstore"><span class="id" title="constructor">Lstore</span></a> <span class="id" title="var">chunk</span> <span class="id" title="var">addr</span> <span class="id" title="var">args</span> <span class="id" title="var">src</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lcall"><span class="id" title="constructor">Lcall</span></a> <span class="id" title="var">sig</span> <span class="id" title="var">ros</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Ltailcall"><span class="id" title="constructor">Ltailcall</span></a> <span class="id" title="var">sig</span> <span class="id" title="var">ros</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lbuiltin"><span class="id" title="constructor">Lbuiltin</span></a> <span class="id" title="var">ef</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> (<a class="idref" href="compcert.common.AST.html#params_of_builtin_res"><span class="id" title="definition">params_of_builtin_res</span></a> <span class="id" title="var">res</span>)) (<a class="idref" href="compcert.x86.Machregs.html#destroyed_by_builtin"><span class="id" title="definition">destroyed_by_builtin</span></a> <span class="id" title="var">ef</span>)<br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Llabel"><span class="id" title="constructor">Llabel</span></a> <span class="id" title="var">lbl</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lgoto"><span class="id" title="constructor">Lgoto</span></a> <span class="id" title="var">lbl</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lcond"><span class="id" title="constructor">Lcond</span></a> <span class="id" title="var">cond</span> <span class="id" title="var">args</span> <span class="id" title="var">lbl</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Ljumptable"><span class="id" title="constructor">Ljumptable</span></a> <span class="id" title="var">arg</span> <span class="id" title="var">tbl</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lreturn"><span class="id" title="constructor">Lreturn</span></a> ⇒ <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a> : <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr"><span class="id" title="definition">record_regs_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="compcert.backend.Bounds.html#empty"><span class="id" title="definition">RegSet.empty</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="slots_of_locs"><span class="id" title="definition">slots_of_locs</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.backend.Locations.html#loc"><span class="id" title="inductive">loc</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Locations.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">sl</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="compcert.backend.Bounds.html#slots_of_locs"><span class="id" title="definition">slots_of_locs</span></a> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Locations.html#R"><span class="id" title="constructor">R</span></a> <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">l'</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#slots_of_locs"><span class="id" title="definition">slots_of_locs</span></a> <span class="id" title="var">l'</span><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lgetstack"><span class="id" title="constructor">Lgetstack</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">sl</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lsetstack"><span class="id" title="constructor">Lsetstack</span></a> <span class="id" title="var">r</span> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="var">sl</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lbuiltin"><span class="id" title="constructor">Lbuiltin</span></a> <span class="id" title="var">ef</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#slots_of_locs"><span class="id" title="definition">slots_of_locs</span></a> (<a class="idref" href="compcert.common.AST.html#params_of_builtin_args"><span class="id" title="definition">params_of_builtin_args</span></a> <span class="id" title="var">args</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_over_list"><span class="id" title="definition">max_over_list</span></a> {<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>} (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">List.fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">m</span> <span class="id" title="var">l</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <a class="idref" href="compcert.backend.Bounds.html#m"><span class="id" title="variable">m</span></a> (<a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a>)) <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> 0.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_over_instrs"><span class="id" title="definition">max_over_instrs</span></a> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_over_slots_of_instr"><span class="id" title="definition">max_over_slots_of_instr</span></a> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="max_over_slots_of_funct"><span class="id" title="definition">max_over_slots_of_funct</span></a> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#max_over_instrs"><span class="id" title="definition">max_over_instrs</span></a> (<a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_instr"><span class="id" title="definition">max_over_slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="local_slot"><span class="id" title="definition">local_slot</span></a> (<span class="id" title="var">s</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Local</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <span class="id" title="var">ty</span> | <span class="id" title="var">_</span> ⇒ 0 <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="outgoing_slot"><span class="id" title="definition">outgoing_slot</span></a> (<span class="id" title="var">s</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#s"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="compcert.backend.Locations.html#Outgoing"><span class="id" title="constructor">Outgoing</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> ⇒ <span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <span class="id" title="var">ty</span> | <span class="id" title="var">_</span> ⇒ 0 <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="outgoing_space"><span class="id" title="definition">outgoing_space</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="compcert.backend.Linear.html#Lcall"><span class="id" title="constructor">Lcall</span></a> <span class="id" title="var">sig</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="compcert.x86.Conventions1.html#size_arguments"><span class="id" title="definition">size_arguments</span></a> <span class="id" title="var">sig</span> | <span class="id" title="var">_</span> ⇒ 0 <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_over_list_pos"><span class="id" title="lemma">max_over_list_pos</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>) (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">valu</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">z</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <a class="idref" href="compcert.backend.Bounds.html#x"><span class="id" title="variable">x</span></a> (<span class="id" title="var">valu</span> <a class="idref" href="compcert.backend.Bounds.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="compcert.backend.Bounds.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> <a class="idref" href="compcert.backend.Bounds.html#z"><span class="id" title="variable">z</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">omega</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zge_trans"><span class="id" title="lemma">Zge_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <span class="id" title="var">z</span> (<span class="id" title="var">valu</span> <span class="id" title="var">a</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_ge"><span class="id" title="abbreviation">Zle_ge</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zmax.html#Zmax1"><span class="id" title="abbreviation">Zmax1</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_over_slots_of_funct_pos"><span class="id" title="lemma">max_over_slots_of_funct_pos</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>), <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct"><span class="id" title="definition">max_over_slots_of_funct</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#162be8364124d2d389b2e8a3fc881ab2"><span class="id" title="notation">≥</span></a> 0.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct"><span class="id" title="definition">max_over_slots_of_funct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_instrs"><span class="id" title="definition">max_over_instrs</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_list_pos"><span class="id" title="lemma">max_over_list_pos</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" title="keyword">Remark</span> <a name="fold_left_preserves"><span class="id" title="lemma">fold_left_preserves</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">P</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="compcert.backend.Bounds.html#b"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>, <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Remark</span> <a name="fold_left_ensures"><span class="id" title="lemma">fold_left_ensures</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span> <span class="id" title="var">B</span>: <span class="id" title="keyword">Type</span>) (<span class="id" title="var">f</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#B"><span class="id" title="variable">B</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">P</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>) <span class="id" title="var">b0</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>, <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="compcert.backend.Bounds.html#b"><span class="id" title="variable">b</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">a</span>, <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a> <a class="idref" href="compcert.backend.Bounds.html#b0"><span class="id" title="variable">b0</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">a</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#b0"><span class="id" title="variable">b0</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#P"><span class="id" title="variable">P</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> <a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="compcert.backend.Bounds.html#a"><span class="id" title="variable">a</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_preserves"><span class="id" title="lemma">fold_left_preserves</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> (<span class="id" title="var">u</span>: <a class="idref" href="compcert.backend.Bounds.html#t"><span class="id" title="definition">RegSet.t</span></a>) : <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">r</span>, <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_reg_only"><span class="id" title="lemma">record_reg_only</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span> <span class="id" title="var">r</span>, <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <span class="id" title="var">r</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">CS</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.x86.Machregs.html#mreg_eq"><span class="id" title="lemma">mreg_eq</span></a> <span class="id" title="var">r</span> <span class="id" title="var">r0</span>). <span class="id" title="tactic">congruence</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#add_3"><span class="id" title="definition">RegSet.add_3</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_only"><span class="id" title="lemma">record_regs_only</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">rl</span> <span class="id" title="var">u</span>, <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#rl"><span class="id" title="variable">rl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_preserves"><span class="id" title="lemma">fold_left_preserves</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_only"><span class="id" title="lemma">record_reg_only</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_of_instr_only"><span class="id" title="lemma">record_regs_of_instr_only</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span> <span class="id" title="var">i</span>, <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr"><span class="id" title="definition">record_regs_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_only"><span class="id" title="lemma">record_reg_only</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_regs_only"><span class="id" title="lemma">record_regs_only</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_of_function_only"><span class="id" title="lemma">record_regs_of_function_only</span></a>: <br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#only_callee_saves"><span class="id" title="definition">only_callee_saves</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_preserves"><span class="id" title="lemma">fold_left_preserves</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr_only"><span class="id" title="lemma">record_regs_of_instr_only</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="var">eelim</span> <a class="idref" href="compcert.backend.Bounds.html#empty_1"><span class="id" title="definition">RegSet.empty_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Program Definition</span> <a name="function_bounds"><span class="id" title="definition">function_bounds</span></a> := {|<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">used_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">:=</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">RegSet.elements</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">record_regs_of_function</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">bound_local</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">:=</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">max_over_slots_of_funct</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">local_slot</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">;</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">bound_outgoing</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">:=</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">Zmax</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">(</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">max_over_instrs</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">outgoing_space</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">)</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">(</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">max_over_slots_of_funct</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">outgoing_slot</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">);</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">bound_stack_data</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">:=</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">Zmax</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">f</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">.(</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">fn_stacksize</span></a><a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">)</span></a> <a class="idref" href="compcert.backend.Bounds.html#mkbounds"><span class="id" title="constructor">0</span></a><br/>
|}.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct_pos"><span class="id" title="lemma">max_over_slots_of_funct_pos</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_ge"><span class="id" title="abbreviation">Zle_ge</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a>. 2: <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zmax.html#Zmax2"><span class="id" title="abbreviation">Zmax2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zge_le"><span class="id" title="abbreviation">Zge_le</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct_pos"><span class="id" title="lemma">max_over_slots_of_funct_pos</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_ge"><span class="id" title="abbreviation">Zle_ge</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zmax.html#Zmax2"><span class="id" title="abbreviation">Zmax2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="compcert.backend.Bounds.html#elements_3w"><span class="id" title="definition">RegSet.elements_3w</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="compcert.backend.Bounds.html#elements"><span class="id" title="definition">RegSet.elements</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> 1. <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Next</span> <span class="id" title="keyword">Obligation</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function_only"><span class="id" title="lemma">record_regs_of_function_only</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#elements_2"><span class="id" title="definition">RegSet.elements_2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">∃</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We now show the correctness of the inferred bounds. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_reg_incr"><span class="id" title="lemma">record_reg_incr</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span> <span class="id" title="var">r</span> <span class="id" title="var">r'</span>, <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <span class="id" title="var">r</span>); <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#add_2"><span class="id" title="definition">RegSet.add_2</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_reg_ok"><span class="id" title="lemma">record_reg_ok</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">u</span> <span class="id" title="var">r</span>, <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg"><span class="id" title="definition">record_reg</span></a>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#add_1"><span class="id" title="definition">RegSet.add_1</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_incr"><span class="id" title="lemma">record_regs_incr</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">r'</span> <span class="id" title="var">rl</span> <span class="id" title="var">u</span>, <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#rl"><span class="id" title="variable">rl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_preserves"><span class="id" title="lemma">fold_left_preserves</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_incr"><span class="id" title="lemma">record_reg_incr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_ok"><span class="id" title="lemma">record_regs_ok</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">rl</span> <span class="id" title="var">u</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#rl"><span class="id" title="variable">rl</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#rl"><span class="id" title="variable">rl</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs"><span class="id" title="definition">record_regs</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_ensures"><span class="id" title="lemma">fold_left_ensures</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_incr"><span class="id" title="lemma">record_reg_incr</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_reg_ok"><span class="id" title="lemma">record_reg_ok</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_of_instr_incr"><span class="id" title="lemma">record_regs_of_instr_incr</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">r'</span> <span class="id" title="var">u</span> <span class="id" title="var">i</span>, <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr"><span class="id" title="definition">record_regs_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_incr"><span class="id" title="lemma">record_reg_incr</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_regs_incr"><span class="id" title="lemma">record_regs_incr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="defined_by_instr"><span class="id" title="definition">defined_by_instr</span></a> (<span class="id" title="var">r'</span>: <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>) (<span class="id" title="var">i</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lgetstack"><span class="id" title="constructor">Lgetstack</span></a> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <span class="id" title="var">r</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lop"><span class="id" title="constructor">Lop</span></a> <span class="id" title="var">op</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">res</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lload"><span class="id" title="constructor">Lload</span></a> <span class="id" title="var">chunk</span> <span class="id" title="var">addr</span> <span class="id" title="var">args</span> <span class="id" title="var">dst</span> ⇒ <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">dst</span><br/>
&nbsp;&nbsp;| <a class="idref" href="compcert.backend.Linear.html#Lbuiltin"><span class="id" title="constructor">Lbuiltin</span></a> <span class="id" title="var">ef</span> <span class="id" title="var">args</span> <span class="id" title="var">res</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.common.AST.html#params_of_builtin_res"><span class="id" title="definition">params_of_builtin_res</span></a> <span class="id" title="var">res</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.x86.Machregs.html#destroyed_by_builtin"><span class="id" title="definition">destroyed_by_builtin</span></a> <span class="id" title="var">ef</span>)<br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_of_instr_ok"><span class="id" title="lemma">record_regs_of_instr_ok</span></a>: <span class="id" title="keyword">∀</span> <span class="id" title="var">r'</span> <span class="id" title="var">u</span> <span class="id" title="var">i</span>, <a class="idref" href="compcert.backend.Bounds.html#defined_by_instr"><span class="id" title="definition">defined_by_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r'"><span class="id" title="variable">r'</span></a> (<a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr"><span class="id" title="definition">record_regs_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#u"><span class="id" title="variable">u</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_reg_ok"><span class="id" title="lemma">record_reg_ok</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_incr"><span class="id" title="lemma">record_regs_incr</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_regs_ok"><span class="id" title="lemma">record_regs_ok</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="record_regs_of_function_ok"><span class="id" title="lemma">record_regs_of_function_ok</span></a>: <br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">r</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#defined_by_instr"><span class="id" title="definition">defined_by_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.x86.Conventions1.html#is_callee_save"><span class="id" title="definition">is_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#In"><span class="id" title="definition">RegSet.In</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function"><span class="id" title="definition">record_regs_of_function</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#fold_left_ensures"><span class="id" title="lemma">fold_left_ensures</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr_incr"><span class="id" title="lemma">record_regs_of_instr_incr</span></a>, <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_instr_ok"><span class="id" title="lemma">record_regs_of_instr_ok</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_over_list_bound"><span class="id" title="lemma">max_over_list_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">A</span>: <span class="id" title="keyword">Type</span>) (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>) (<span class="id" title="var">x</span>: <a class="idref" href="compcert.backend.Bounds.html#A"><span class="id" title="variable">A</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="tactic">until</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_list"><span class="id" title="definition">max_over_list</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="keyword">∀</span> <span class="id" title="var">c</span> <span class="id" title="var">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#fold_left"><span class="id" title="definition">fold_left</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <a class="idref" href="compcert.backend.Bounds.html#x"><span class="id" title="variable">x</span></a> (<span class="id" title="var">valu</span> <a class="idref" href="compcert.backend.Bounds.html#y"><span class="id" title="variable">y</span></a>)) <a class="idref" href="compcert.backend.Bounds.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="compcert.backend.Bounds.html#z"><span class="id" title="variable">z</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#z"><span class="id" title="variable">z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <span class="id" title="var">x</span> <a class="idref" href="compcert.backend.Bounds.html#c"><span class="id" title="variable">c</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <span class="id" title="var">valu</span> <span class="id" title="var">x</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">c</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">omega</span>. <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">elim</span> (<span class="id" title="var">IHc</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <span class="id" title="var">z</span> (<span class="id" title="var">valu</span> <span class="id" title="var">a</span>))); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <span class="id" title="var">z</span> (<span class="id" title="var">valu</span> <span class="id" title="var">a</span>)). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zmax.html#Zmax1"><span class="id" title="abbreviation">Zmax1</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">elim</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">a</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#Zmax"><span class="id" title="abbreviation">Zmax</span></a> <span class="id" title="var">z</span> (<span class="id" title="var">valu</span> <span class="id" title="var">x</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zmax.html#Zmax2"><span class="id" title="abbreviation">Zmax2</span></a>. <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">elim</span> (<span class="id" title="var">H</span> <span class="id" title="var">l</span> 0); <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_over_instrs_bound"><span class="id" title="lemma">max_over_instrs_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Linear.html#instruction"><span class="id" title="inductive">instruction</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#max_over_instrs"><span class="id" title="definition">max_over_instrs</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_instrs"><span class="id" title="definition">max_over_instrs</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_list_bound"><span class="id" title="lemma">max_over_list_bound</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="max_over_slots_of_funct_bound"><span class="id" title="lemma">max_over_slots_of_funct_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">valu</span>: <a class="idref" href="compcert.backend.Locations.html#slot"><span class="id" title="inductive">slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.common.AST.html#typ"><span class="id" title="inductive">typ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#s"><span class="id" title="variable">s</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a> <a class="idref" href="compcert.backend.Bounds.html#s"><span class="id" title="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct"><span class="id" title="definition">max_over_slots_of_funct</span></a> <a class="idref" href="compcert.backend.Bounds.html#valu"><span class="id" title="variable">valu</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct"><span class="id" title="definition">max_over_slots_of_funct</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_instr"><span class="id" title="definition">max_over_slots_of_instr</span></a> <span class="id" title="var">valu</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_instr"><span class="id" title="definition">max_over_slots_of_instr</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_list_bound"><span class="id" title="lemma">max_over_list_bound</span></a>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_instrs_bound"><span class="id" title="lemma">max_over_instrs_bound</span></a>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="local_slot_bound"><span class="id" title="lemma">local_slot_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Local</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_local"><span class="id" title="projection">bound_local</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>, <a class="idref" href="compcert.backend.Bounds.html#bound_local"><span class="id" title="projection">bound_local</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (<span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <span class="id" title="var">ty</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="compcert.backend.Bounds.html#local_slot"><span class="id" title="definition">local_slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><span class="id" title="keyword">Local</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct_bound"><span class="id" title="lemma">max_over_slots_of_funct_bound</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="outgoing_slot_bound"><span class="id" title="lemma">outgoing_slot_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="compcert.backend.Locations.html#Outgoing"><span class="id" title="constructor">Outgoing</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">change</span> (<span class="id" title="var">ofs</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Locations.html#typesize"><span class="id" title="definition">typesize</span></a> <span class="id" title="var">ty</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="compcert.backend.Bounds.html#outgoing_slot"><span class="id" title="definition">outgoing_slot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="compcert.backend.Locations.html#Outgoing"><span class="id" title="constructor">Outgoing</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ofs</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <span class="id" title="var">ty</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>, <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.lib.Coqlib.html#Zmax_bound_r"><span class="id" title="lemma">Zmax_bound_r</span></a>. <span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_slots_of_funct_bound"><span class="id" title="lemma">max_over_slots_of_funct_bound</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_arguments_bound"><span class="id" title="lemma">size_arguments_bound</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">sig</span> <span class="id" title="var">ros</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="compcert.backend.Linear.html#Lcall"><span class="id" title="constructor">Lcall</span></a> <a class="idref" href="compcert.backend.Bounds.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="compcert.backend.Bounds.html#ros"><span class="id" title="variable">ros</span></a>) <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.x86.Conventions1.html#size_arguments"><span class="id" title="definition">size_arguments</span></a> <a class="idref" href="compcert.backend.Bounds.html#sig"><span class="id" title="variable">sig</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">change</span> (<a class="idref" href="compcert.x86.Conventions1.html#size_arguments"><span class="id" title="definition">size_arguments</span></a> <span class="id" title="var">sig</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="compcert.backend.Bounds.html#outgoing_space"><span class="id" title="definition">outgoing_space</span></a> (<a class="idref" href="compcert.backend.Linear.html#Lcall"><span class="id" title="constructor">Lcall</span></a> <span class="id" title="var">sig</span> <span class="id" title="var">ros</span>)).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>, <a class="idref" href="compcert.backend.Bounds.html#bound_outgoing"><span class="id" title="projection">bound_outgoing</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.lib.Coqlib.html#Zmax_bound_l"><span class="id" title="lemma">Zmax_bound_l</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#max_over_instrs_bound"><span class="id" title="lemma">max_over_instrs_bound</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Consequently, all machine registers or stack slots mentioned by one
  of the instructions of function <span class="inlinecode"><a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a></span> are within bounds. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="mreg_is_within_bounds"><span class="id" title="lemma">mreg_is_within_bounds</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">r</span>, <a class="idref" href="compcert.backend.Bounds.html#defined_by_instr"><span class="id" title="definition">defined_by_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#r"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#mreg_within_bounds"><span class="id" title="definition">mreg_within_bounds</span></a>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="compcert.backend.Bounds.html#record_regs_of_function_ok"><span class="id" title="lemma">record_regs_of_function_ok</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#elements_1"><span class="id" title="definition">RegSet.elements_1</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">r'</span> &amp; <span class="id" title="var">A</span> &amp; <span class="id" title="var">B</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">r'</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="slot_is_within_bounds"><span class="id" title="lemma">slot_is_within_bounds</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">sl</span> <span class="id" title="var">ty</span> <span class="id" title="var">ofs</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_instr"><span class="id" title="definition">slots_of_instr</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="compcert.backend.Bounds.html#slot_within_bounds"><span class="id" title="definition">slot_within_bounds</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">sl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#local_slot_bound"><span class="id" title="lemma">local_slot_bound</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#outgoing_slot_bound"><span class="id" title="lemma">outgoing_slot_bound</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="slots_of_locs_charact"><span class="id" title="lemma">slots_of_locs_charact</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">sl</span> <span class="id" title="var">ofs</span> <span class="id" title="var">ty</span> <span class="id" title="var">l</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> (<a class="idref" href="compcert.backend.Bounds.html#slots_of_locs"><span class="id" title="definition">slots_of_locs</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#df1ced36fc33ce188051218bca314374"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> (<a class="idref" href="compcert.backend.Locations.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="compcert.backend.Bounds.html#sl"><span class="id" title="variable">sl</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a>) <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
It follows that every instruction in the function is within bounds,
    in the sense of the <span class="inlinecode"><a class="idref" href="compcert.backend.Bounds.html#instr_within_bounds"><span class="id" title="definition">instr_within_bounds</span></a></span> predicate. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a name="instr_is_within_bounds"><span class="id" title="lemma">instr_is_within_bounds</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#In"><span class="id" title="definition">In</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a>.(<a class="idref" href="compcert.backend.Linear.html#fn_code"><span class="id" title="projection">fn_code</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#instr_within_bounds"><span class="id" title="definition">instr_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#i"><span class="id" title="variable">i</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">i</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="compcert.backend.Bounds.html#mreg_is_within_bounds"><span class="id" title="lemma">mreg_is_within_bounds</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">generalize</span> (<a class="idref" href="compcert.backend.Bounds.html#slot_is_within_bounds"><span class="id" title="lemma">slot_is_within_bounds</span></a> <span class="id" title="var">_</span> <span class="id" title="var">H</span>);<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="compcert.backend.Bounds.html#size_arguments_bound"><span class="id" title="lemma">size_arguments_bound</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">H0</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.backend.Bounds.html#slots_of_locs_charact"><span class="id" title="lemma">slots_of_locs_charact</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="function_is_within_bounds"><span class="id" title="lemma">function_is_within_bounds</span></a>:<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#function_within_bounds"><span class="id" title="definition">function_within_bounds</span></a> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS.f"><span class="id" title="variable">f</span></a> <a class="idref" href="compcert.backend.Bounds.html#function_bounds"><span class="id" title="definition">function_bounds</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>; <span class="id" title="tactic">red</span>; <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#instr_is_within_bounds"><span class="id" title="lemma">instr_is_within_bounds</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="compcert.backend.Bounds.html#BOUNDS"><span class="id" title="section">BOUNDS</span></a>.<br/>

<br/>
</div>

<div class="doc">
Helper to determine the size of the frame area that holds the contents of saved registers. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a name="size_callee_save_area_rec"><span class="id" title="definition">size_callee_save_area_rec</span></a> (<span class="id" title="var">l</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a>) (<span class="id" title="var">ofs</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a><br/>
&nbsp;&nbsp;| <span class="id" title="var">r</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">ty</span> := <a class="idref" href="compcert.x86.Machregs.html#mreg_type"><span class="id" title="definition">mreg_type</span></a> <span class="id" title="var">r</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">sz</span> := <a class="idref" href="compcert.common.AST.html#typesize"><span class="id" title="definition">AST.typesize</span></a> <a class="idref" href="compcert.backend.Bounds.html#ty"><span class="id" title="variable">ty</span></a> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#size_callee_save_area_rec"><span class="id" title="definition">size_callee_save_area_rec</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> (<a class="idref" href="compcert.lib.Coqlib.html#align"><span class="id" title="definition">align</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="compcert.backend.Bounds.html#sz"><span class="id" title="variable">sz</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#a3448b794f7a26d611ad36492b5d640b"><span class="id" title="notation">+</span></a> <a class="idref" href="compcert.backend.Bounds.html#sz"><span class="id" title="variable">sz</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="size_callee_save_area"><span class="id" title="definition">size_callee_save_area</span></a> (<span class="id" title="var">b</span>: <a class="idref" href="compcert.backend.Bounds.html#bounds"><span class="id" title="record">bounds</span></a>) (<span class="id" title="var">ofs</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>) : <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.backend.Bounds.html#size_callee_save_area_rec"><span class="id" title="definition">size_callee_save_area_rec</span></a> (<a class="idref" href="compcert.backend.Bounds.html#used_callee_save"><span class="id" title="projection">used_callee_save</span></a> <a class="idref" href="compcert.backend.Bounds.html#b"><span class="id" title="variable">b</span></a>) <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_callee_save_area_rec_incr"><span class="id" title="lemma">size_callee_save_area_rec_incr</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">l</span> <span class="id" title="var">ofs</span>, <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#size_callee_save_area_rec"><span class="id" title="definition">size_callee_save_area_rec</span></a> <a class="idref" href="compcert.backend.Bounds.html#l"><span class="id" title="variable">l</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="keyword">Local Opaque</span> <a class="idref" href="compcert.x86.Machregs.html#mreg_type"><span class="id" title="definition">mreg_type</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">r</span> <span class="id" title="var">l</span>]; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">simpl</span>.<br/>
- <span class="id" title="tactic">omega</span>.<br/>
- <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a>. 2: <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="compcert.common.AST.html#typesize_pos"><span class="id" title="lemma">AST.typesize_pos</span></a> (<a class="idref" href="compcert.x86.Machregs.html#mreg_type"><span class="id" title="definition">mreg_type</span></a> <span class="id" title="var">r</span>)); <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" title="abbreviation">Zle_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="compcert.lib.Coqlib.html#align"><span class="id" title="definition">align</span></a> <span class="id" title="var">ofs</span> (<a class="idref" href="compcert.common.AST.html#typesize"><span class="id" title="definition">AST.typesize</span></a> (<a class="idref" href="compcert.x86.Machregs.html#mreg_type"><span class="id" title="definition">mreg_type</span></a> <span class="id" title="var">r</span>))).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="compcert.lib.Coqlib.html#align_le"><span class="id" title="lemma">align_le</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">omega</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="size_callee_save_area_incr"><span class="id" title="lemma">size_callee_save_area_incr</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <span class="id" title="var">b</span> <span class="id" title="var">ofs</span>, <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.BinInt.html#208bafb0e148fe7fb7dcd812c227f4ee"><span class="id" title="notation">≤</span></a> <a class="idref" href="compcert.backend.Bounds.html#size_callee_save_area"><span class="id" title="definition">size_callee_save_area</span></a> <a class="idref" href="compcert.backend.Bounds.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="compcert.backend.Bounds.html#ofs"><span class="id" title="variable">ofs</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="compcert.backend.Bounds.html#size_callee_save_area_rec_incr"><span class="id" title="lemma">size_callee_save_area_rec_incr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Layout of the stack frame and its properties.  These definitions
  are used in the machine-dependent <span class="inlinecode"><span class="id" title="library">Stacklayout</span></span> module and in the
  <span class="inlinecode"><span class="id" title="var">Stacking</span></span> pass. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Record</span> <a name="frame_env"><span class="id" title="record">frame_env</span></a> : <span class="id" title="keyword">Type</span> := <a name="mk_frame_env"><span class="id" title="constructor">mk_frame_env</span></a> {<br/>
&nbsp;&nbsp;<a name="fe_size"><span class="id" title="projection">fe_size</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_ofs_link"><span class="id" title="projection">fe_ofs_link</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_ofs_retaddr"><span class="id" title="projection">fe_ofs_retaddr</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_ofs_local"><span class="id" title="projection">fe_ofs_local</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_ofs_callee_save"><span class="id" title="projection">fe_ofs_callee_save</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_stack_data"><span class="id" title="projection">fe_stack_data</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>;<br/>
&nbsp;&nbsp;<a name="fe_used_callee_save"><span class="id" title="projection">fe_used_callee_save</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="compcert.x86.Machregs.html#mreg"><span class="id" title="inductive">mreg</span></a><br/>
}.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>