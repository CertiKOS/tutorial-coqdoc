<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>liblayers.compcertx.MakeProgramFacts</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library liblayers.compcertx.MakeProgramFacts</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.lib.Decision.html#"><span class="id" title="library">Decision</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.logic.Semantics.html#"><span class="id" title="library">Semantics</span></a>. <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#"><span class="id" title="library">MakeProgramSpec</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Arguments</span> <a class="idref" href="liblayers.lib.Monad.html#bind"><span class="id" title="method">bind</span></a> : <span class="id" title="tactic">simpl</span> <span class="id" title="var">never</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="MAKE_PROGRAM_FACTS"><span class="id" title="section">MAKE_PROGRAM_FACTS</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmkp</span>: <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#MakeProgram"><span class="id" title="class">MakeProgram</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hpf</span>: <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#ProgramFormat"><span class="id" title="class">ProgramFormat</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hmodule</span>: !<a class="idref" href="liblayers.logic.Modules.html#Modules"><span class="id" title="class">Modules</span></a> <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Fm"><span class="id" title="variable">Fm</span></a> (<a class="idref" href="compcert.common.AST.html#globvar"><span class="id" title="record">globvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vm"><span class="id" title="variable">Vm</span></a>) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.module"><span class="id" title="variable">module</span></a>}.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> `{<span class="id" title="var">Hlayer</span>: !<a class="idref" href="liblayers.logic.Layers.html#Layers"><span class="id" title="class">Layers</span></a> <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.primsem"><span class="id" title="variable">primsem</span></a> (<a class="idref" href="compcert.common.AST.html#globvar"><span class="id" title="record">globvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vm"><span class="id" title="variable">Vm</span></a>) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.layer"><span class="id" title="variable">layer</span></a>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="top_preo"><span class="id" title="instance">top_preo</span></a> <span class="id" title="var">A</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a>%<span class="id" title="var">rel</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab572"></a><h1 class="section">Preliminaries</h1>

<div class="paragraph"> </div>

<a name="lab573"></a><h2 class="section">Using <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="projection">make_program_noconflict</span></a></span></h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_program_make_globalenv"><span class="id" title="lemma">make_program_make_globalenv</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">ML</span> <span class="id" title="var">p</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#p"><span class="id" title="variable">p</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="compcert.common.Globalenvs.html#Genv.globalenv"><span class="id" title="definition">Genv.globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#p"><span class="id" title="variable">p</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_make_program"><span class="id" title="lemma">make_globalenv_make_program</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">ML</span> <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#p"><span class="id" title="variable">p</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">noconflict_for</span> <span class="id" title="var">H</span> <span class="id" title="var">i</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>?<span class="id" title="var">M</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> ?<span class="id" title="var">L</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">tac</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">HMfi</span>: <a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> <span class="id" title="var">i</span> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">HMvi</span>: <a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <span class="id" title="var">i</span> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">HLpi</span>: <a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive"><span class="id" title="method">get_layer_primitive</span></a> <span class="id" title="var">i</span> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">HLvi</span>: <a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> <span class="id" title="var">i</span> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">assert</span> (<span class="id" title="var">HMLv</span>: <a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> <span class="id" title="var">i</span> <span class="id" title="var">L</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <span class="id" title="var">i</span> <span class="id" title="var">M</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">tac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">p</span> := <span class="id" title="tactic">fresh</span> "p" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hp</span> := <span class="id" title="tactic">fresh</span> "H" <span class="id" title="var">p</span> <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#make_globalenv_make_program"><span class="id" title="lemma">make_globalenv_make_program</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">noconflict_for</span> <span class="id" title="var">Hp</span> <span class="id" title="var">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab574"></a><h2 class="section">Elementary relations for <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_rel"><span class="id" title="projection">make_program_rel</span></a></span></h2>

<div class="paragraph"> </div>

 We're going to prove many theorems by constructing
    relation families that encode constraints on the module-layer pair
    corresponding to the theorem's premises, then showing that once
    the relations are transported to the program or global
    environment, they entail our conclusion. To facilitate this
    process we introduce the following language.

<div class="paragraph"> </div>

    So far the following relations can be used:
<ul class="doclist">
<li> <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_empty"><span class="id" title="constructor">mprc_empty</span></a></span> imposes no contraints on the program;

</li>
<li> <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a></span> <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode"><a class="idref" href="liblayers.logic.Modules.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a></span> requires that the program define <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> to be the
        internal function <span class="inlinecode"><a class="idref" href="liblayers.logic.Modules.html#29d7d9bf2d713ce949c9fed315ed8ffb"><span class="id" title="variable">κ</span></a></span>;

</li>
<li> <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a></span> <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode">σ</span> requires that the program define <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> to be the
        primitive with specification <span class="inlinecode">σ</span>;

</li>
<li> <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a></span> <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> <span class="inlinecode">τ</span> requires that the program define <span class="inlinecode"><a class="idref" href="compcert.lib.Coqlib.html#i"><span class="id" title="variable">i</span></a></span> to be the
        global variable with definition <span class="inlinecode">τ</span>.

</li>
</ul>

<div class="paragraph"> </div>

    Of course, we could come up with something much more general,
    however this suffices for now. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Inductive</span> <a name="mprc"><span class="id" title="inductive">mprc</span></a> <span class="id" title="var">D</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="mprc_empty"><span class="id" title="constructor">mprc_empty</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (<span class="id" title="var">κ</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Fm"><span class="id" title="variable">Fm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (σ: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.primsem"><span class="id" title="variable">primsem</span></a> <span class="id" title="var">D</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a name="mprc_var"><span class="id" title="constructor">mprc_var</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (τ: <a class="idref" href="compcert.common.AST.html#globvar"><span class="id" title="record">globvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vm"><span class="id" title="variable">Vm</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>): <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#funrel"><span class="id" title="definition">funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">j</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.RelOperators.html#f33ffc4601eabd52c0eccb2a4c01ded5"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> <span class="id" title="var">i</span> <span class="id" title="var">κ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#j"><span class="id" title="variable">j</span></a>) <span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#inl"><span class="id" title="constructor">inl</span></a> <span class="id" title="var">κ</span>) <span class="id" title="keyword">else</span> <a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> <span class="id" title="var">i</span> σ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#j"><span class="id" title="variable">j</span></a>) <span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#inr"><span class="id" title="constructor">inr</span></a> σ) <span class="id" title="keyword">else</span> <a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">rel</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>): <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#varrel"><span class="id" title="definition">varrel</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fun</span> <span class="id" title="var">j</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.RelOperators.html#f33ffc4601eabd52c0eccb2a4c01ded5"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">i</span> τ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#j"><span class="id" title="variable">j</span></a>) <span class="id" title="keyword">then</span> <span class="id" title="keyword">fun</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> τ <span class="id" title="keyword">else</span> <a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelOperators.html#2ba22b4c3fc52a802af99bc58fee3c46"><span class="id" title="notation">⊤</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)%<span class="id" title="var">rel</span>.<br/>

<br/>
</div>

<div class="doc">
We will be interested in establishing that a module-layer pair
    is related to itself, and expoiting the fact that the resulting
    global environement is the related to itself as well. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mprc_pre"><span class="id" title="definition">mprc_pre</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">R</span>: @<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) (<span class="id" title="var">ML</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.module"><span class="id" title="variable">module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.layer"><span class="id" title="variable">layer</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_empty"><span class="id" title="constructor">mprc_empty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> <span class="id" title="var">i</span> <span class="id" title="var">κ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">κ</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> <span class="id" title="var">i</span> σ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive"><span class="id" title="method">get_layer_primitive</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> σ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">i</span> τ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> τ) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> <span class="id" title="var">i</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> τ)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
XXX: we need this for the proof below; perhaps it should be in coqrel. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="rel_inter_preo"><span class="id" title="lemma">rel_inter_preo</span></a> {<span class="id" title="var">A</span>} (<span class="id" title="var">R1</span> <span class="id" title="var">R2</span>: <a class="idref" href="coqrel.RelDefinitions.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#A"><span class="id" title="variable">A</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R2"><span class="id" title="variable">R2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="coqrel.RelOperators.html#f33ffc4601eabd52c0eccb2a4c01ded5"><span class="id" title="notation">∧</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R2"><span class="id" title="variable">R2</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HR1</span> <span class="id" title="var">HR2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">z</span> <span class="id" title="var">Hxy</span> <span class="id" title="var">Hyz</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="var">etransitivity</span>; <span class="id" title="var">rauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Extern</span> 2 (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#PreOrder"><span class="id" title="class">PreOrder</span></a> (<span class="id" title="var">_</span> <a class="idref" href="coqrel.RelOperators.html#f33ffc4601eabd52c0eccb2a4c01ded5"><span class="id" title="notation">∧</span></a> <span class="id" title="var">_</span>)) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#rel_inter_preo"><span class="id" title="lemma">rel_inter_preo</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mprc_pre_sound"><span class="id" title="lemma">mprc_pre_sound</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">R</span> <span class="id" title="var">ML</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_pre"><span class="id" title="definition">mprc_pre</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#module_layer_rel"><span class="id" title="definition">module_layer_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ML</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">M</span> <span class="id" title="var">L</span>], <span class="id" title="var">R</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_pre"><span class="id" title="definition">mprc_pre</span></a>, <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a>, <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">j</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span>|<span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">j</span>)); <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">reflexivity</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#get_module_layer_function"><span class="id" title="definition">get_module_layer_function</span></a>, <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#get_module_layer_variable"><span class="id" title="definition">get_module_layer_variable</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive"><span class="id" title="method">get_layer_primitive</span></a> <span class="id" title="var">j</span> <span class="id" title="var">L</span>) <span class="id" title="keyword">as</span> [[|]|]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> <span class="id" title="var">j</span> <span class="id" title="var">M</span>) <span class="id" title="keyword">as</span> [[|]|]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> <span class="id" title="var">j</span> <span class="id" title="var">L</span>) <span class="id" title="keyword">as</span> [[ τ'|]|]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.GlobalVars.html#globalvar_eq_dec"><span class="id" title="method">GlobalVars.globalvar_eq_dec</span></a> τ τ').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">res_option_globalvar</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="liblayers.logic.GlobalVars.html#res_option_globalvar_oplus_diff"><span class="id" title="lemma">GlobalVars.res_option_globalvar_oplus_diff</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <span class="id" title="var">j</span> <span class="id" title="var">M</span>) <span class="id" title="keyword">as</span> [[ τ' |]|]; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.GlobalVars.html#globalvar_eq_dec"><span class="id" title="method">GlobalVars.globalvar_eq_dec</span></a> τ' τ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">res_option_globalvar</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="liblayers.logic.GlobalVars.html#res_option_globalvar_oplus_diff"><span class="id" title="lemma">GlobalVars.res_option_globalvar_oplus_diff</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="mprc_post"><span class="id" title="definition">mprc_post</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">R</span>: @<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) (<span class="id" title="var">ge</span>: <a class="idref" href="compcert.common.Globalenvs.html#Genv.t"><span class="id" title="record">Genv.t</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Fp"><span class="id" title="variable">Fp</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vp"><span class="id" title="variable">Vp</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_empty"><span class="id" title="constructor">mprc_empty</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> <span class="id" title="var">i</span> <span class="id" title="var">κ</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">fdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_internal"><span class="id" title="method">make_internal</span></a> <span class="id" title="var">κ</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> <span class="id" title="var">i</span> σ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">fdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external"><span class="id" title="method">make_external</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <span class="id" title="var">i</span> σ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">i</span> τ ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">vdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> τ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_var_info"><span class="id" title="definition">Genv.find_var_info</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="mprc_post_complete"><span class="id" title="lemma">mprc_post_complete</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">R</span> <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_rel"><span class="id" title="record">genv_rel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#fundef_rel"><span class="id" title="definition">fundef_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#vardef_rel"><span class="id" title="definition">vardef_rel</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_post"><span class="id" title="definition">mprc_post</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_rel_find_funct_ptr"><span class="id" title="lemma">genv_rel_find_funct_ptr</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span> ..<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_rel_find_var_info"><span class="id" title="lemma">genv_rel_find_var_info</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">i</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">H'</span> ];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">H'</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H2</span> <span class="id" title="keyword">as</span> [? ?];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">i</span>)); [ | <span class="id" title="tactic">congruence</span>]; <span class="id" title="tactic">subst</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv_monad</span> <span class="id" title="var">H3</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We can use the relational property of <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="projection">make_program</span></a></span> with
    <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a></span> and <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a></span> to brige these two things. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="mprc_funrel_mpr"><span class="id" title="instance">mprc_funrel_mpr</span></a> <span class="id" title="var">D</span> (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#OptionRelationForward"><span class="id" title="class">OptionRelationForward</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span> <span class="id" title="var">Hy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hxy</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="mprc_varrel_mpr"><span class="id" title="instance">mprc_varrel_mpr</span></a> <span class="id" title="var">D</span> (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#OptionRelationForward"><span class="id" title="class">OptionRelationForward</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">R</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span> <span class="id" title="var">Hy</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hxy</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="mprc_funrel_err"><span class="id" title="instance">mprc_funrel_err</span></a> <span class="id" title="var">D</span> (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>) (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="coqrel.RelOperators.html#22d5c754b43f74bbc26a31adf4b8647c"><span class="id" title="notation">@@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#22d5c754b43f74bbc26a31adf4b8647c"><span class="id" title="notation">@@</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">Hxy</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hxy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="mprc_varrel_err"><span class="id" title="instance">mprc_varrel_err</span></a> <span class="id" title="var">D</span> (<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc"><span class="id" title="inductive">mprc</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="coqrel.RelOperators.html#22d5c754b43f74bbc26a31adf4b8647c"><span class="id" title="notation">@@</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#22d5c754b43f74bbc26a31adf4b8647c"><span class="id" title="notation">@@</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> [<span class="id" title="var">Hxy</span> <span class="id" title="var">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hxy</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_rel_mprc"><span class="id" title="lemma">make_globalenv_rel_mprc</span></a> <span class="id" title="var">D</span> <span class="id" title="var">R</span> <span class="id" title="var">ML</span> <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#module_layer_rel"><span class="id" title="definition">module_layer_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>) (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_rel"><span class="id" title="record">genv_rel</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#fundef_rel"><span class="id" title="definition">fundef_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>)) (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#vardef_rel"><span class="id" title="definition">vardef_rel</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>)) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span> <span class="id" title="var">HML</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hge'</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_rel"><span class="id" title="record">genv_rel</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#fundef_rel"><span class="id" title="definition">fundef_rel</span></a> <span class="id" title="var">D</span> <span class="id" title="var">D</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a> <span class="id" title="var">R</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#vardef_rel"><span class="id" title="definition">vardef_rel</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a> <span class="id" title="var">R</span>))) (<a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <span class="id" title="var">ge</span>) (<a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <span class="id" title="var">ge</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- !<span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv_rel"><span class="id" title="instance">make_globalenv_rel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hge'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
We can now design a tactic that puts all of these components together. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">use_mprc</span> <span class="id" title="var">H</span> <span class="id" title="var">R</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">lazymatch</span> <span class="id" title="var">type</span> <span class="id" title="var">of</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> ?<span class="id" title="var">D</span> ?<span class="id" title="var">ML</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">Hge</span> := <span class="id" title="tactic">fresh</span> "Hge" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#make_program_make_globalenv"><span class="id" title="lemma">make_program_make_globalenv</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hge</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> <span class="id" title="var">R</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> ?<span class="id" title="var">D</span> ?<span class="id" title="var">ML</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">HR</span> := <span class="id" title="tactic">fresh</span> "HR" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> <span class="id" title="var">HR</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#make_globalenv_rel_mprc"><span class="id" title="lemma">make_globalenv_rel_mprc</span></a> <span class="id" title="var">_</span> <span class="id" title="var">R</span>) <span class="id" title="keyword">in</span> <span class="id" title="var">HR</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_post_complete"><span class="id" title="lemma">mprc_post_complete</span></a> <span class="id" title="keyword">in</span> <span class="id" title="var">HR</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_pre_sound"><span class="id" title="lemma">mprc_pre_sound</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_module_normalize</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">get_layer_normalize</span> ]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab575"></a><h2 class="section">Other useful lemmas</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Instance</span> <a name="res_le_refl"><span class="id" title="instance">res_le_refl</span></a> `(<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [|]; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="module_layer_rel_refl"><span class="id" title="instance">module_layer_rel_refl</span></a> <span class="id" title="var">D</span> <span class="id" title="var">RF</span> <span class="id" title="var">RV</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#RF"><span class="id" title="variable">RF</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>, <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#RV"><span class="id" title="variable">RV</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.RelationClasses.html#Reflexive"><span class="id" title="class">Reflexive</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#module_layer_rel"><span class="id" title="definition">module_layer_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#RF"><span class="id" title="variable">RF</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#RV"><span class="id" title="variable">RV</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">HRF</span> <span class="id" title="var">HRV</span> [<span class="id" title="var">M</span> <span class="id" title="var">L</span>] <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_stencil_matches"><span class="id" title="lemma">make_globalenv_stencil_matches</span></a> <span class="id" title="var">D</span> <span class="id" title="var">ML</span> <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML"><span class="id" title="variable">ML</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.CompcertStructures.html#stencil_matches"><span class="id" title="record">stencil_matches</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_le_stencil_matches_l"><span class="id" title="lemma">genv_le_stencil_matches_l</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#make_globalenv_rel_mprc"><span class="id" title="lemma">make_globalenv_rel_mprc</span></a> <span class="id" title="var">D</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_empty"><span class="id" title="constructor">mprc_empty</span></a> <span class="id" title="var">D</span>)); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_funrel"><span class="id" title="definition">mprc_funrel</span></a>, <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_varrel"><span class="id" title="definition">mprc_varrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">make_globalenv_stencil_matches</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab576"></a><h1 class="section">Properties relating module-layer pairs with their global environments</h1>

<div class="paragraph"> </div>

<a name="lab577"></a><h2 class="section">Intensional properties about single-binding module-layer pairs</h2>

<div class="paragraph"> </div>

 Those are only used in <span class="inlinecode"><span class="id" title="library">MakeProgramInv</span></span> and we may want to
    relocate them there. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_external"><span class="id" title="lemma">make_globalenv_external</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (σ: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.primsem"><span class="id" title="variable">primsem</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>) <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> σ<span class="id" title="var">def</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external"><span class="id" title="method">make_external</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#3122c41ebe889f745cb9bbe1c92165c3"><span class="id" title="variable">σ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#8568c97a4ec58d55e36826d125a29fa9"><span class="id" title="variable">σ</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#8568c97a4ec58d55e36826d125a29fa9"><span class="id" title="variable">def</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#8568c97a4ec58d55e36826d125a29fa9"><span class="id" title="variable">σ</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#8568c97a4ec58d55e36826d125a29fa9"><span class="id" title="variable">def</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> σ); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_internal"><span class="id" title="lemma">make_globalenv_internal</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (<span class="id" title="var">f</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Fm"><span class="id" title="variable">Fm</span></a>) <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">fdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_internal"><span class="id" title="method">make_internal</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fdef"><span class="id" title="variable">fdef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> <span class="id" title="var">f</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_module_globvar"><span class="id" title="lemma">make_globalenv_module_globvar</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (τ: <a class="idref" href="compcert.common.AST.html#globvar"><span class="id" title="record">globvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vm"><span class="id" title="variable">Vm</span></a>) <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">vdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_var_info"><span class="id" title="definition">Genv.find_var_info</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> τ); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_layer_globvar"><span class="id" title="lemma">make_globalenv_layer_globvar</span></a> {<span class="id" title="var">D</span>} (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (τ: <a class="idref" href="compcert.common.AST.html#globvar"><span class="id" title="record">globvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.Vm"><span class="id" title="variable">Vm</span></a>) <span class="id" title="var">ge</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">vdef</span> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_var_info"><span class="id" title="definition">Genv.find_var_info</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vdef"><span class="id" title="variable">vdef</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> τ); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab578"></a><h2 class="section">Extensional properties</h2>

<div class="paragraph"> </div>

 Those are used by legacy code, and we may want to remove them if
    they end up unused after we migrate everything to use the
    relational property of <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="projection">make_program</span></a></span> instead of painstakingly
    moving back-and-forth between the representations of modules and
    their global environments. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_get_module_function"><span class="id" title="lemma">make_globalenv_get_module_function</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">ge</span> <span class="id" title="var">i</span> <span class="id" title="var">fi</span> <span class="id" title="var">f</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fi"><span class="id" title="variable">fi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_internal"><span class="id" title="method">make_internal</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fi"><span class="id" title="variable">fi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span> <span class="id" title="var">HMi</span> <span class="id" title="var">Hfi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_fun"><span class="id" title="constructor">mprc_fun</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> <span class="id" title="var">fi</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HR</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">f'</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">Hf'</span> &amp; <span class="id" title="var">HR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_get_module_variable"><span class="id" title="lemma">make_globalenv_get_module_variable</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">ge</span> <span class="id" title="var">i</span> <span class="id" title="var">vi</span> <span class="id" title="var">v</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vi"><span class="id" title="variable">vi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vi"><span class="id" title="variable">vi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_var_info"><span class="id" title="definition">Genv.find_var_info</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#v"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span> <span class="id" title="var">HMi</span> <span class="id" title="var">Hvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> <span class="id" title="var">vi</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HR</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">v'</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">Hv'</span> &amp; <span class="id" title="var">Hb</span> &amp; <span class="id" title="var">Hbv'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_get_layer_primitive"><span class="id" title="lemma">make_globalenv_get_layer_primitive</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">ge</span> <span class="id" title="var">i</span> <span class="id" title="var">fe</span> <span class="id" title="var">f</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive"><span class="id" title="method">get_layer_primitive</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fe"><span class="id" title="variable">fe</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external"><span class="id" title="method">make_external</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#fe"><span class="id" title="variable">fe</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_funct_ptr"><span class="id" title="definition">Genv.find_funct_ptr</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#f"><span class="id" title="variable">f</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span> <span class="id" title="var">HMi</span> <span class="id" title="var">Hfe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_prim"><span class="id" title="constructor">mprc_prim</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> <span class="id" title="var">fe</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HR</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">f'</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">Hf'</span> &amp; <span class="id" title="var">HR</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">replace</span> <span class="id" title="var">f</span> <span class="id" title="keyword">with</span> <span class="id" title="var">f'</span> <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_globalenv_get_layer_globalvar"><span class="id" title="lemma">make_globalenv_get_layer_globalvar</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">ge</span> <span class="id" title="var">i</span> <span class="id" title="var">vi</span> <span class="id" title="var">v</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vi"><span class="id" title="variable">vi</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#vi"><span class="id" title="variable">vi</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#v"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">∃</span></a> <span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#84eb6d2849dbf3581b1c0c05add5f2d8"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d82a7d96d3659d805ffe732283716822"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_var_info"><span class="id" title="definition">Genv.find_var_info</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#v"><span class="id" title="variable">v</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span> <span class="id" title="var">HMi</span> <span class="id" title="var">Hvi</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">use_mprc</span> <span class="id" title="var">Hge</span> (<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#mprc_var"><span class="id" title="constructor">mprc_var</span></a> <span class="id" title="var">D</span> <span class="id" title="var">i</span> <span class="id" title="var">vi</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">HR</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">v'</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">Hv'</span> &amp; <span class="id" title="var">Hb</span> &amp; <span class="id" title="var">Hbv'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">v'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">v</span>) <span class="id" title="tactic">by</span> <span class="id" title="tactic">congruence</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab579"></a><h2 class="section">Consequences of single hypotheses</h2>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="genv_find_symbol_glob_threshold"><span class="id" title="lemma">genv_find_symbol_glob_threshold</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} (<span class="id" title="var">ge</span>: <a class="idref" href="compcert.common.Globalenvs.html#Genv.t"><span class="id" title="record">Genv.t</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">i</span> <span class="id" title="var">b</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.CompcertStructures.html#stencil_matches"><span class="id" title="record">stencil_matches</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="compcert.common.Globalenvs.html#Genv.find_symbol"><span class="id" title="definition">Genv.find_symbol</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ge"><span class="id" title="variable">ge</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#b"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.PArith.BinPos.html#9f235fd01ea27a2b353f4859719f4038"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#glob_threshold"><span class="id" title="definition">glob_threshold</span></a>)%<span class="id" title="var">positive</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#stencil_matches_symbols"><span class="id" title="lemma">stencil_matches_symbols</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">Local Transparent</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#find_symbol"><span class="id" title="definition">find_symbol</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#find_symbol"><span class="id" title="definition">find_symbol</span></a>, <a class="idref" href="liblayers.compcertx.CompcertStructures.html#find_symbol_upto"><span class="id" title="definition">find_symbol_upto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.PArith.BinPos.html#9f235fd01ea27a2b353f4859719f4038"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#glob_threshold"><span class="id" title="definition">glob_threshold</span></a>)%<span class="id" title="var">positive</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">genv_find_symbol_glob_threshold</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Hint Extern</span> 1 (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#isOK"><span class="id" title="definition">isOK</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="tactic">eexists</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab580"></a><h1 class="section">Alternative monotonicity theorems</h1>

<div class="paragraph"> </div>

 The specification of <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="projection">make_program</span></a></span> is a very general relational
    property, however prior to this we were already using simpler
    monotonicity properties to characterize some aspects of
    <span class="inlinecode"><a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="projection">make_program</span></a></span>. Here we prove those properties for backward
    compatibility. We will want to remove those eventually. 
</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="module_layer_rel_intro"><span class="id" title="lemma">module_layer_rel_intro</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<span class="id" title="var">D1</span> <span class="id" title="var">D2</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.layerdata"><span class="id" title="variable">layerdata</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ML1</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.module"><span class="id" title="variable">module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.layer"><span class="id" title="variable">layer</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D1"><span class="id" title="variable">D1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ML2</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.module"><span class="id" title="variable">module</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.layer"><span class="id" title="variable">layer</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D2"><span class="id" title="variable">D2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">R</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS.simrel"><span class="id" title="variable">simrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D2"><span class="id" title="variable">D2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">LESIM</span>: ( <a class="idref" href="liblayers.logic.Structures.html#le"><span class="id" title="method">le</span></a> <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>)%<span class="id" title="var">rel</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML1"><span class="id" title="variable">ML1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML2"><span class="id" title="variable">ML2</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#module_layer_rel"><span class="id" title="definition">module_layer_rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D1"><span class="id" title="variable">D1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D2"><span class="id" title="variable">D2</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.Relators.html#57606fd03c0441b96bb39a6b78cdae4c"><span class="id" title="notation">+</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R"><span class="id" title="variable">R</span></a>)) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML1"><span class="id" title="variable">ML1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#ML2"><span class="id" title="variable">ML2</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> (<span class="id" title="var">M1</span> &amp; <span class="id" title="var">L1</span>) (<span class="id" title="var">M2</span> &amp; <span class="id" title="var">L2</span>) <span class="id" title="var">R</span> (<span class="id" title="var">Hle</span> &amp; <span class="id" title="var">Hsim</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#get_module_layer_function"><span class="id" title="definition">get_module_layer_function</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#res_option_inj"><span class="id" title="definition">res_option_inj</span></a> ?<span class="id" title="var">a</span> ?<span class="id" title="var">b</span>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">A</span> := <span class="id" title="tactic">fresh</span> "A" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="tactic">fresh</span> "f" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">msg</span> := <span class="id" title="tactic">fresh</span> "msg" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">f</span>|]|<span class="id" title="var">msg</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">A</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B</span> := <span class="id" title="tactic">fresh</span> "B" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v</span> := <span class="id" title="tactic">fresh</span> "v" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">msg</span> := <span class="id" title="tactic">fresh</span> "msg" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span>|]|<span class="id" title="var">msg</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">B</span>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.Structures.html#le"><span class="id" title="method">le</span></a> ?<span class="id" title="var">M1</span> ?<span class="id" title="var">M2</span>, <span class="id" title="var">A</span>: <a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> ?<span class="id" title="var">i</span> ?<span class="id" title="var">M1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_function_monotonic"><span class="id" title="method">get_module_function_monotonic</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="tactic">fresh</span> "C" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">C</span>; <span class="id" title="var">inv</span> <span class="id" title="var">C</span>; <span class="id" title="var">revert</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> ?<span class="id" title="var">R</span> ?<span class="id" title="var">L1</span> ?<span class="id" title="var">L2</span>, <span class="id" title="var">A</span>: <a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive"><span class="id" title="method">get_layer_primitive</span></a> ?<span class="id" title="var">i</span> ?<span class="id" title="var">L1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="liblayers.logic.Layers.html#get_layer_primitive_sim_monotonic"><span class="id" title="method">get_layer_primitive_sim_monotonic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="tactic">fresh</span> "C" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">C</span>; <span class="id" title="var">inv</span> <span class="id" title="var">C</span>; <span class="id" title="var">revert</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y0</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>. <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#get_module_layer_variable"><span class="id" title="definition">get_module_layer_variable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <span class="id" title="var">_</span> (<span class="id" title="var">_</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> ?<span class="id" title="var">i</span> ?<span class="id" title="var">M1</span>) ?<span class="id" title="var">b</span>) <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">A</span> := <span class="id" title="tactic">fresh</span> "A" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">f</span> := <span class="id" title="tactic">fresh</span> "f" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">msg</span> := <span class="id" title="tactic">fresh</span> "msg" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <span class="id" title="var">i</span> <span class="id" title="var">M1</span>) <span class="id" title="keyword">as</span> [[<span class="id" title="var">f</span>|]|<span class="id" title="var">msg</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">A</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">B</span> := <span class="id" title="tactic">fresh</span> "B" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">v</span> := <span class="id" title="tactic">fresh</span> "v" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">msg</span> := <span class="id" title="tactic">fresh</span> "msg" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">b</span> <span class="id" title="keyword">as</span> [[<span class="id" title="var">v</span>|]|<span class="id" title="var">msg</span>] <span class="id" title="var">eqn</span>:<span class="id" title="var">B</span>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.Structures.html#le"><span class="id" title="method">le</span></a> ?<span class="id" title="var">M1</span> ?<span class="id" title="var">M2</span>, <span class="id" title="var">A</span>: <a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> ?<span class="id" title="var">i</span> ?<span class="id" title="var">M1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="liblayers.logic.Modules.html#get_module_variable_monotonic"><span class="id" title="method">get_module_variable_monotonic</span></a> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="tactic">fresh</span> "C" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">C</span>; <span class="id" title="var">inv</span> <span class="id" title="var">C</span>; <span class="id" title="var">revert</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> ?<span class="id" title="var">R</span> ?<span class="id" title="var">L1</span> ?<span class="id" title="var">L2</span>, <span class="id" title="var">A</span>: <a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar"><span class="id" title="method">get_layer_globalvar</span></a> ?<span class="id" title="var">i</span> ?<span class="id" title="var">L1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<a class="idref" href="liblayers.logic.Layers.html#get_layer_globalvar_sim_monotonic"><span class="id" title="method">get_layer_globalvar_sim_monotonic</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H</span>); <span class="id" title="tactic">rewrite</span> <span class="id" title="var">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <span class="id" title="var">C</span> := <span class="id" title="tactic">fresh</span> "C" <span class="id" title="keyword">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span> <span class="id" title="var">C</span>; <span class="id" title="var">inv</span> <span class="id" title="var">C</span>; <span class="id" title="var">revert</span> <span class="id" title="var">A</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H</span>: <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">_</span>) <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="var">inv</span> <span class="id" title="var">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">repeat</span> <span class="id" title="var">rstep</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="make_program_monotonic"><span class="id" title="instance">make_program_monotonic</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.Relators.html#121f19e13d350c3a792fb7c67ae4a001"><span class="id" title="notation">forallr</span></a> <a class="idref" href="coqrel.Relators.html#121f19e13d350c3a792fb7c67ae4a001"><span class="id" title="notation">-,</span></a> <a class="idref" href="liblayers.logic.Structures.html#720b83680399fc5a022f578f28e994fa"><span class="id" title="notation">(≤)</span></a> <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.Structures.html#720b83680399fc5a022f578f28e994fa"><span class="id" title="notation">(≤)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_le"><span class="id" title="definition">program_le</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">D</span> <span class="id" title="var">ML1</span> <span class="id" title="var">ML2</span> <span class="id" title="var">HML</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_le"><span class="id" title="definition">program_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a>)%<span class="id" title="var">rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#fundef_rel"><span class="id" title="definition">fundef_rel</span></a> <span class="id" title="var">D</span> <span class="id" title="var">D</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.Relators.html#57606fd03c0441b96bb39a6b78cdae4c"><span class="id" title="notation">+</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <a class="idref" href="liblayers.logic.Structures.html#id"><span class="id" title="method">id</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fm1</span> <span class="id" title="var">fp1</span> <span class="id" title="var">Hf1</span> <span class="id" title="var">fm2</span> <span class="id" title="var">fp2</span> <span class="id" title="var">Hf2</span> <span class="id" title="var">Hfm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hf1</span>, <span class="id" title="var">Hf2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfm</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#match_fundef"><span class="id" title="definition">match_fundef</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external_monotonic"><span class="id" title="method">make_external_monotonic</span></a> <span class="id" title="var">i</span> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq_refl"><span class="id" title="constructor">eq_refl</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hme</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hme</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a>)%<span class="id" title="var">rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#vardef_rel"><span class="id" title="definition">vardef_rel</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">vm1</span> <span class="id" title="var">vp1</span> <span class="id" title="var">Hv1</span> <span class="id" title="var">vm2</span> <span class="id" title="var">vp2</span> <span class="id" title="var">Hv2</span> <span class="id" title="var">Hvm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv1</span>, <span class="id" title="var">Hv2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvm</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#match_vardef"><span class="id" title="definition">match_vardef</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">subrel_at</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">R1</span> <span class="id" title="var">R2</span>: <a class="idref" href="coqrel.RelDefinitions.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">HR</span>: <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R2"><span class="id" title="variable">R2</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">H</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a>) ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#HR"><span class="id" title="variable">HR</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<span class="id" title="var">subrel_at</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le_monotonic"><span class="id" title="instance">res_le_monotonic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_subrel"><span class="id" title="instance">program_subrel</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a> <span class="id" title="var">D</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.Relators.html#57606fd03c0441b96bb39a6b78cdae4c"><span class="id" title="notation">+</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <a class="idref" href="liblayers.logic.Structures.html#id"><span class="id" title="method">id</span></a>) <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> @<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external_monotonic"><span class="id" title="method">make_external_monotonic</span></a>; <span class="id" title="tactic">eauto</span>. &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_rel"><span class="id" title="method">make_program_rel</span></a>. </div>

<div class="doc">
FIXME: monotonicity should work 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#module_layer_rel_intro"><span class="id" title="lemma">module_layer_rel_intro</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="make_program_monotonic_params"><span class="id" title="instance">make_program_monotonic_params</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a>) 2.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="make_globalenv_monotonic"><span class="id" title="instance">make_globalenv_monotonic</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.Relators.html#121f19e13d350c3a792fb7c67ae4a001"><span class="id" title="notation">forallr</span></a> <a class="idref" href="coqrel.Relators.html#121f19e13d350c3a792fb7c67ae4a001"><span class="id" title="notation">-,</span></a> <a class="idref" href="liblayers.logic.Structures.html#720b83680399fc5a022f578f28e994fa"><span class="id" title="notation">(≤)</span></a> <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.Structures.html#720b83680399fc5a022f578f28e994fa"><span class="id" title="notation">(≤)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#genv_le"><span class="id" title="definition">genv_le</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a>, <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">rauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="make_globalenv_monotonic_params"><span class="id" title="instance">make_globalenv_monotonic_params</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Classes.Morphisms.html#Params"><span class="id" title="class">Params</span></a> (@<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_globalenv"><span class="id" title="definition">make_globalenv</span></a>) 2.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="make_program_sim_monotonic"><span class="id" title="instance">make_program_sim_monotonic</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_external"><span class="id" title="method">make_external</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.RelDefinitions.html#1bd22793714b33e291f1b6c3b141e214"><span class="id" title="notation">forallr</span></a> <span class="id" title="var">R</span><a class="idref" href="coqrel.RelDefinitions.html#1bd22793714b33e291f1b6c3b141e214"><span class="id" title="notation">,</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <span class="id" title="var">R</span> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">D</span> ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.RelDefinitions.html#1bd22793714b33e291f1b6c3b141e214"><span class="id" title="notation">forallr</span></a> <span class="id" title="var">R</span><a class="idref" href="coqrel.RelDefinitions.html#1bd22793714b33e291f1b6c3b141e214"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#720b83680399fc5a022f578f28e994fa"><span class="id" title="notation">(≤)</span></a> <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <span class="id" title="var">R</span> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_le"><span class="id" title="definition">program_le</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hme</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">ML1</span> <span class="id" title="var">ML2</span> <span class="id" title="var">HML</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_le"><span class="id" title="definition">program_le</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a>)%<span class="id" title="var">rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#fundef_rel"><span class="id" title="definition">fundef_rel</span></a> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.Relators.html#57606fd03c0441b96bb39a6b78cdae4c"><span class="id" title="notation">+</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <span class="id" title="var">R</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">fm1</span> <span class="id" title="var">fp1</span> <span class="id" title="var">Hf1</span> <span class="id" title="var">fm2</span> <span class="id" title="var">fp2</span> <span class="id" title="var">Hf2</span> <span class="id" title="var">Hfm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hf1</span>, <span class="id" title="var">Hf2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hfm</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#match_fundef"><span class="id" title="definition">match_fundef</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">try</span> <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> <span class="id" title="var">proof</span> (<span class="id" title="var">Hme</span> <span class="id" title="var">D1</span> <span class="id" title="var">D2</span> <span class="id" title="var">R</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">H1</span>) <span class="id" title="keyword">as</span> <span class="id" title="var">Hme'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hme'</span>; <span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a> <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a>)%<span class="id" title="var">rel</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#vardef_rel"><span class="id" title="definition">vardef_rel</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> ⇒ <a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="var">Hxy</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hxy</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">vm1</span> <span class="id" title="var">vp1</span> <span class="id" title="var">Hv1</span> <span class="id" title="var">vm2</span> <span class="id" title="var">vp2</span> <span class="id" title="var">Hv2</span> <span class="id" title="var">Hvm</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">destruct</span> <span class="id" title="var">Hv1</span>, <span class="id" title="var">Hv2</span>; <span class="id" title="tactic">inversion</span> <span class="id" title="var">Hvm</span>; <span class="id" title="tactic">constructor</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#match_vardef"><span class="id" title="definition">match_vardef</span></a> <span class="id" title="keyword">in</span> *; <span class="id" title="tactic">simpl</span> <span class="id" title="keyword">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">pose</span> (<span class="id" title="var">subrel_at</span> := <span class="id" title="keyword">fun</span> <span class="id" title="var">A</span> <span class="id" title="var">B</span> (<span class="id" title="var">R1</span> <span class="id" title="var">R2</span>: <a class="idref" href="coqrel.RelDefinitions.html#rel"><span class="id" title="definition">rel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#A"><span class="id" title="variable">A</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#B"><span class="id" title="variable">B</span></a>) (<span class="id" title="var">HR</span>: <a class="idref" href="coqrel.RelDefinitions.html#subrel"><span class="id" title="definition">subrel</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R2"><span class="id" title="variable">R2</span></a>) <span class="id" title="var">x</span> <span class="id" title="var">y</span> (<span class="id" title="var">H</span>: <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#R1"><span class="id" title="variable">R1</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a>) ⇒ <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#HR"><span class="id" title="variable">HR</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#x"><span class="id" title="variable">x</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#y"><span class="id" title="variable">y</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#H"><span class="id" title="variable">H</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<span class="id" title="var">subrel_at</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le_monotonic"><span class="id" title="instance">res_le_monotonic</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.CompcertStructures.html#program_subrel"><span class="id" title="instance">program_subrel</span></a>; <span class="id" title="var">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">∀</span> <span class="id" title="var">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Related"><span class="id" title="class">Related</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a> <span class="id" title="var">D1</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a> <span class="id" title="var">D2</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#i"><span class="id" title="variable">i</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.Relators.html#57606fd03c0441b96bb39a6b78cdae4c"><span class="id" title="notation">+</span></a> <a class="idref" href="liblayers.logic.Structures.html#sim"><span class="id" title="abbreviation">sim</span></a> <span class="id" title="var">R</span>) <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">f1</span> <span class="id" title="var">f2</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_fundef"><span class="id" title="definition">make_fundef</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> <span class="id" title="var">rstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hme</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_varinfo"><span class="id" title="method">make_varinfo</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a> <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Program.Basics.html#impl"><span class="id" title="definition">impl</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">@@</span></a> <a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.ErrorMonad.html#isError"><span class="id" title="definition">isError</span></a><a class="idref" href="coqrel.RelOperators.html#404c315814f49e91b268853cd2dd7205"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">v1</span> <span class="id" title="var">v2</span> <span class="id" title="var">Hv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">Hv</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_rel"><span class="id" title="method">make_program_rel</span></a>. </div>

<div class="doc">
FIXME: monotonicity should work 
</div>
<div class="code">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#module_layer_rel_intro"><span class="id" title="lemma">module_layer_rel_intro</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab581"></a><h1 class="section">Other global properties</h1>

</div>
<div class="code">

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_program_layer_ok"><span class="id" title="lemma">make_program_layer_ok</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#isOK"><span class="id" title="definition">isOK</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Layers.html#LayerOK"><span class="id" title="class">LayerOK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_program_module_ok"><span class="id" title="lemma">make_program_module_ok</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#isOK"><span class="id" title="definition">isOK</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#ModuleOK"><span class="id" title="class">ModuleOK</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="make_program_module_layer_disjoint"><span class="id" title="lemma">make_program_module_layer_disjoint</span></a> {<span class="id" title="var">D</span>} <span class="id" title="var">M</span> <span class="id" title="var">L</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#isOK"><span class="id" title="definition">isOK</span></a> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program"><span class="id" title="method">make_program</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#D"><span class="id" title="variable">D</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#d43e996736952df71ebeeae74d10a287"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Semantics.html#module_layer_disjoint"><span class="id" title="definition">module_layer_disjoint</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#M"><span class="id" title="variable">M</span></a> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#L"><span class="id" title="variable">L</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> [<span class="id" title="var">p</span> <span class="id" title="var">Hp</span>] <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="liblayers.compcertx.MakeProgramSpec.html#make_program_noconflict"><span class="id" title="method">make_program_noconflict</span></a> <span class="id" title="var">D</span> <span class="id" title="var">M</span> <span class="id" title="var">L</span> <span class="id" title="var">p</span> <span class="id" title="var">i</span> <span class="id" title="var">Hp</span>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Our specification is probably not sufficient to prove
    <span class="inlinecode"><span class="id" title="var">make_program_exists</span></span> below, but it should be possible to replace
    uses of that lemma.

<div class="paragraph"> </div>

      <tt>&lt;
      make_program_exists {D} (L: _ D) M:
        LayerOK L -&gt;
        ModuleOK M -&gt;
        (forall i fe, get_layer_primitive i L = OK (Some fe) -&gt;
                      isOK (make_external D i fe) /\
                      isOKNone (get_module_function i M) /\
                      isOKNone (get_module_variable i M) /\
                      (i &lt; glob_threshold)%positive) -&gt;
        (forall i fi, get_module_function i M = OK (Some fi) -&gt;
                      isOK (make_internal fi) /\
                      isOKNone (get_layer_primitive i L) /\
                      isOKNone (get_layer_globalvar i L) /\
                      (i &lt; glob_threshold)%positive) -&gt;
        (forall i v, get_layer_globalvar i L = OK (Some v) -&gt;
                     isOKNone (get_module_function i M) /\
                     isOKNone (get_module_variable i M) /\
                     (i &lt; glob_threshold)%positive) -&gt;
        (forall i v, get_module_variable i M = OK (Some v) -&gt;
                     isOKNone (get_layer_primitive i L) /\
                     isOKNone (get_layer_globalvar i L) /\
                     (i &lt; glob_threshold)%positive) -&gt;
        isOK (make_program D (M, L))
      </tt>&gt;
  
<div class="paragraph"> </div>

 We could add this one to the spec, but actually it should be
    enough that the <span class="inlinecode"><a class="idref" href="compcert.cfrontend.Ctypes.html#main"><span class="id" title="variable">main</span></a></span> of two programs are equal, we don't need to
    know the specific identifier.

<div class="paragraph"> </div>

      <tt>&lt;
      make_program_prog_main
        {D} (L: layer D)
        (M: module) (p: _)
        (prog: make_program D (M, L) = OK p)
      :
        (prog_main p) = xH;
      </tt>&gt;
   
</div>
<div class="code">
<span class="id" title="keyword">End</span> <a class="idref" href="liblayers.compcertx.MakeProgramFacts.html#MAKE_PROGRAM_FACTS"><span class="id" title="section">MAKE_PROGRAM_FACTS</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>