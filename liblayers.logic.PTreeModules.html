<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>liblayers.logic.PTreeModules</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library liblayers.logic.PTreeModules</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.ZArith.ZArith.html#"><span class="id" title="library">Coq.ZArith.ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Lists.List.html#"><span class="id" title="library">Coq.Lists.List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="compcert.common.AST.html#"><span class="id" title="library">compcert.common.AST</span></a>. <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.lib.Decision.html#"><span class="id" title="library">liblayers.lib.Decision</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.logic.PseudoJoin.html#"><span class="id" title="library">liblayers.logic.PseudoJoin</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.logic.OptionOrders.html#"><span class="id" title="library">liblayers.logic.OptionOrders</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.logic.PTrees.html#"><span class="id" title="library">liblayers.logic.PTrees</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Export</span> <a class="idref" href="liblayers.logic.Modules.html#"><span class="id" title="library">liblayers.logic.Modules</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#"><span class="id" title="library">liblayers.compcertx.ErrorMonad</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="liblayers.logic.GlobalVars.html#"><span class="id" title="library">liblayers.logic.GlobalVars</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab367"></a><h1 class="section">Construction of modules</h1>

<div class="paragraph"> </div>

 Modules are maps from identifiers to definitions, extended with an
  extra element <span class="inlinecode"><a class="idref" href="liblayers.logic.Structures.html#id"><span class="id" title="projection">id</span></a></span>, which represents the module that passes along
  all of the primitives in the underlying layer. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="ptree_module"><span class="id" title="definition">ptree_module</span></a> <span class="id" title="var">F</span> <span class="id" title="var">V</span> :=<br/>
&nbsp;&nbsp;(<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#d19c7eafd0e2d195d10df94b392087b5"><span class="id" title="notation">×</span></a> <a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>))%<span class="id" title="var">type</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptree_le_op</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptree_emptyset</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptree_oplus</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptree_mapsto</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab368"></a><h2 class="section">Querying functions</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="ptree_module_conflict"><span class="id" title="definition">ptree_module_conflict</span></a> <span class="id" title="var">i</span>: <a class="idref" href="compcert.common.Errors.html#errmsg"><span class="id" title="definition">errmsg</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.common.Errors.html#MSG"><span class="id" title="constructor">MSG</span></a> "duplicate symbol in module: " <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="compcert.common.Errors.html#CTX"><span class="id" title="constructor">CTX</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#0a8150c3c4df34d205c5ed9a427e2ed5"><span class="id" title="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a name="PTREE_MODULE_QUERY"><span class="id" title="section">PTREE_MODULE_QUERY</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Context</span> {<span class="id" title="var">F</span> <span class="id" title="var">V</span> : <span class="id" title="keyword">Type</span>}.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">M</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Definition</span> <a name="ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a> <span class="id" title="var">i</span> (<span class="id" title="var">M</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.V"><span class="id" title="variable">V</span></a>): <a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#M"><span class="id" title="variable">M</span></a><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a>).<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptree_module_function_mapsto"><span class="id" title="lemma">ptree_module_function_mapsto</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (<span class="id" title="var">f</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.F"><span class="id" title="variable">F</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#f"><span class="id" title="variable">f</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> @<a class="idref" href="compcert.lib.Maps.html#PTree.empty"><span class="id" title="definition">PTree.empty</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#f"><span class="id" title="variable">f</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.Structures.html#mapsto"><span class="id" title="method">mapsto</span></a>, <a class="idref" href="liblayers.logic.PTrees.html#ptree_mapsto"><span class="id" title="instance">ptree_mapsto</span></a>; <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gss"><span class="id" title="lemma">PTree.gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ptree_module_function_monotonic"><span class="id" title="instance">ptree_module_function_monotonic</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)) <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)) <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonic</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Lemma</span> <a name="ptree_module_variable_mapsto"><span class="id" title="lemma">ptree_module_variable_mapsto</span></a> (<span class="id" title="var">i</span>: <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a>) (τ: <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY.V"><span class="id" title="variable">V</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>@<a class="idref" href="compcert.lib.Maps.html#PTree.empty"><span class="id" title="definition">PTree.empty</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#33228780c4c171a6131f9e6e62ea2dd4"><span class="id" title="notation">↦</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#a788b57bb5319497a4de11f3392dcbc3"><span class="id" title="variable">τ</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.Structures.html#mapsto"><span class="id" title="method">mapsto</span></a>, <a class="idref" href="liblayers.logic.PTrees.html#ptree_mapsto"><span class="id" title="instance">ptree_mapsto</span></a>; <span class="id" title="tactic">simpl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gss"><span class="id" title="lemma">PTree.gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Global Instance</span> <a name="ptree_module_variable_monotonic"><span class="id" title="instance">ptree_module_variable_monotonic</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="coqrel.RelDefinitions.html#Monotonic"><span class="id" title="abbreviation">Monotonic</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">-</span></a> <a class="idref" href="coqrel.Relators.html#da8817e538e6bc1d3d2ad0cfb530ab9c"><span class="id" title="notation">==&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)) <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)) <a class="idref" href="coqrel.RelDefinitions.html#d5d0ad6beccd25d5224442d64ed307d5"><span class="id" title="notation">++&gt;</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)).<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Proof</span> <span class="id" title="keyword">with</span> <span class="id" title="tactic">eauto</span> 10 <span class="id" title="keyword">with</span> <span class="id" title="var">liblayers</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonic</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="liblayers.logic.PTreeModules.html#PTREE_MODULE_QUERY"><span class="id" title="section">PTREE_MODULE_QUERY</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab369"></a><h2 class="section">Instance of <span class="inlinecode"><a class="idref" href="liblayers.logic.Modules.html#Modules"><span class="id" title="record">Modules</span></a></span></h2>

<div class="paragraph"> </div>

 A work around for code extraction.  The extracted OCaml code is not
  polymorphic enough if these two are not declared at top level as functions. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="ptree_module_le"><span class="id" title="instance">ptree_module_le</span></a> <span class="id" title="var">F</span> <span class="id" title="var">V</span>: <a class="idref" href="liblayers.logic.Structures.html#Le"><span class="id" title="class">Le</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Structures.html#le"><span class="id" title="method">le</span></a> := <a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>)) <a class="idref" href="coqrel.Relators.html#8c6ca63cafbedd3ebab35f3d3f567609"><span class="id" title="notation">×</span></a> <a class="idref" href="liblayers.logic.PTrees.html#ptree_rel"><span class="id" title="definition">ptree_rel</span></a> (<a class="idref" href="liblayers.logic.OptionOrders.html#option_le"><span class="id" title="inductive">option_le</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_le"><span class="id" title="inductive">res_le</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>))<br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="ptree_module_empty"><span class="id" title="instance">ptree_module_empty</span></a> <span class="id" title="var">F</span> <span class="id" title="var">V</span>: <a class="idref" href="liblayers.logic.Structures.html#Emptyset"><span class="id" title="class">Emptyset</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Structures.html#emptyset"><span class="id" title="method">emptyset</span></a> := <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a>@<a class="idref" href="compcert.lib.Maps.html#PTree.empty"><span class="id" title="definition">PTree.empty</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> @<a class="idref" href="compcert.lib.Maps.html#PTree.empty"><span class="id" title="definition">PTree.empty</span></a> <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="ptree_module_oplus"><span class="id" title="instance">ptree_module_oplus</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} {<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>}: <a class="idref" href="liblayers.logic.Structures.html#Oplus"><span class="id" title="class">Oplus</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Structures.html#oplus"><span class="id" title="method">oplus</span></a> <span class="id" title="var">M1</span> <span class="id" title="var">M2</span> := <a class="idref" href="liblayers.logic.Structures.html#oplus"><span class="id" title="method">oplus</span></a> (<span class="id" title="var">Oplus</span> := <a class="idref" href="liblayers.logic.PseudoJoin.html#prod_oplus"><span class="id" title="instance">prod_oplus</span></a>) <a class="idref" href="liblayers.logic.PTreeModules.html#M1"><span class="id" title="variable">M1</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#M2"><span class="id" title="variable">M2</span></a><br/>
&nbsp;&nbsp;}.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="ptree_module_ops"><span class="id" title="instance">ptree_module_ops</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} {<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>}: <a class="idref" href="liblayers.logic.Modules.html#ModuleOps"><span class="id" title="class">ModuleOps</span></a> <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#module_mapsto_fundef"><span class="id" title="method">module_mapsto_fundef</span></a> := {| <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">mapsto</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">κ</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">:=</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">(</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">↦</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">κ</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">@</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">PTree.empty</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">_</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">)</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#module_mapsto_vardef"><span class="id" title="method">module_mapsto_vardef</span></a> := {| <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">mapsto</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">τ</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">:=</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">(@</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">PTree.empty</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">_</span></a><a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">i</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">↦</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">OK</span></a> <a class="idref" href="liblayers.logic.Structures.html#Build_Mapsto"><span class="id" title="constructor">τ)</span></a> |};<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> := <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> := <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.PTrees.html#ptree_forall_decision_strong"><span class="id" title="lemma">ptree_forall_decision_strong</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> <span class="id" title="var">def</span> ⇒ <span class="id" title="var">P</span> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#def"><span class="id" title="variable">def</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> (<a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">L</span>))).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.lib.Decision.html#decide_rewrite"><span class="id" title="instance">decide_rewrite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">J</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">L</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">J</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">L</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">DP</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.PTrees.html#ptree_forall_decision"><span class="id" title="instance">ptree_forall_decision</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">P</span> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">M</span>))).<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.lib.Decision.html#decide_rewrite"><span class="id" title="instance">decide_rewrite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTrees.html#ptree_forall"><span class="id" title="definition">ptree_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">M</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HM</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">compute</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">J</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HM</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <span class="id" title="var">M</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;× <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.PTrees.html#ptree_forall_decision_strong"><span class="id" title="lemma">ptree_forall_decision_strong</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">def</span> ⇒ <span class="id" title="var">P</span> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#def"><span class="id" title="variable">def</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">P</span> (<a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> <span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">L</span>))).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.lib.Decision.html#decide_rewrite"><span class="id" title="instance">decide_rewrite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">J</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">L</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">generalize</span> (<span class="id" title="var">J</span> <span class="id" title="var">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">L</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">monad_norm</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">P</span> <span class="id" title="var">DP</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<span class="id" title="var">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="liblayers.logic.PTrees.html#ptree_forall_decision"><span class="id" title="instance">ptree_forall_decision</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <span class="id" title="var">i</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <span class="id" title="var">M</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#7a45dffb109c3069e5c675be68643e60"><span class="id" title="notation">∨</span></a> <span class="id" title="var">P</span> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">_</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">M</span>))).<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.lib.Decision.html#decide_rewrite"><span class="id" title="instance">decide_rewrite</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTrees.html#ptree_forall"><span class="id" title="definition">ptree_forall</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">J</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">M</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">HM</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">compute</span>; <span class="id" title="tactic">congruence</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">HM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">J</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">HM</span>); <span class="id" title="tactic">try</span> <span class="id" title="var">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="liblayers.lib.Decision.html#decide"><span class="id" title="definition">decide</span></a> (<a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip"><span class="id" title="definition">option_res_flip</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <span class="id" title="var">M</span><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="compcert.common.Errors.html#OK"><span class="id" title="constructor">OK</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>)); <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Defined</span>.<br/>

<br/>
</div>

<div class="doc">
Now to prove the assoiated properties. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">ptree_le_op</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">option_le_op</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="var">Existing</span> <span class="id" title="keyword">Instance</span> <span class="id" title="var">res_le_op</span>.<br/>
<span class="id" title="keyword">Local Hint Extern</span> 10 (<a class="idref" href="liblayers.logic.Structures.html#Le"><span class="id" title="class">Le</span></a> <span class="id" title="var">_</span>) ⇒ <span class="id" title="tactic">eapply</span> <a class="idref" href="liblayers.logic.Structures.html#trivial_le"><span class="id" title="instance">trivial_le</span></a> : <span class="id" title="var">typeclass_instances</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span>: <span class="id" title="keyword">∀</span> <span class="id" title="var">F</span> <span class="id" title="var">V</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>},<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.PseudoJoin.html#PseudoJoin"><span class="id" title="class">PseudoJoin</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">,</span></a> <a class="idref" href="liblayers.logic.Structures.html#1bcfff782645e550303b44d1d50df7a5"><span class="id" title="notation">∅</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#44400027531d4bc3f586a1997dc874c0"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_oplus"><span class="id" title="instance">ptree_module_oplus</span></a> <span class="id" title="var">F</span> <span class="id" title="var">V</span> <span class="id" title="var">gv_ops</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="liblayers.logic.PseudoJoin.html#prod_oplus"><span class="id" title="instance">prod_oplus</span></a> (<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">F</span>)) <span class="id" title="var">_</span> (<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">V</span>)) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">change</span> (@<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_le"><span class="id" title="instance">ptree_module_le</span></a> <span class="id" title="var">F</span> <span class="id" title="var">V</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">with</span> (@<a class="idref" href="liblayers.logic.PseudoJoin.html#prod_le_op"><span class="id" title="instance">prod_le_op</span></a> (<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">F</span>)) <span class="id" title="var">_</span> (<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <span class="id" title="var">V</span>)) <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> @<a class="idref" href="liblayers.logic.PseudoJoin.html#prod_pjoin"><span class="id" title="instance">prod_pjoin</span></a>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.logic.PTrees.html#ptree_pseudojoin"><span class="id" title="instance">ptree_pseudojoin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">apply</span> <a class="idref" href="liblayers.logic.PTrees.html#ptree_pseudojoin"><span class="id" title="instance">ptree_pseudojoin</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">typeclasses</span> <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Instance</span> <a name="ptree_module_prf"><span class="id" title="instance">ptree_module_prf</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} {<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>}: <a class="idref" href="liblayers.logic.Modules.html#Modules"><span class="id" title="class">Modules</span></a> <a class="idref" href="compcert.common.AST.html#ident"><span class="id" title="definition">ident</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a> (<a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_function_mapsto"><span class="id" title="method">get_module_function_mapsto</span></a> := <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function_mapsto"><span class="id" title="lemma">ptree_module_function_mapsto</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="liblayers.logic.Modules.html#get_module_variable_mapsto"><span class="id" title="method">get_module_variable_mapsto</span></a> := <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable_mapsto"><span class="id" title="lemma">ptree_module_variable_mapsto</span></a><br/>
&nbsp;&nbsp;}.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">κ</span> <span class="id" title="var">Hij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gso"><span class="id" title="lemma">PTree.gso</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> τ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [<span class="id" title="var">M1f</span> <span class="id" title="var">M1v</span>] [<span class="id" title="var">M2f</span> <span class="id" title="var">M2v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gcombine"><span class="id" title="lemma">PTree.gcombine</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">M1f</span> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [[σ1|]|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">M2f</span> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [[σ2|]|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monad_norm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.lib.Monad.html#ret"><span class="id" title="method">ret</span></a>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonic</span>.<br/>

<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> <span class="id" title="var">κ</span> <span class="id" title="var">Hij</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gso"><span class="id" title="lemma">PTree.gso</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">assumption</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> <span class="id" title="var">j</span> τ.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gempty"><span class="id" title="lemma">PTree.gempty</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>

<br/>
&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">i</span> [<span class="id" title="var">M1f</span> <span class="id" title="var">M1v</span>] [<span class="id" title="var">M2f</span> <span class="id" title="var">M2v</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="compcert.lib.Maps.html#PTree.gcombine"><span class="id" title="lemma">PTree.gcombine</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">M1v</span> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [[τ1|]|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">M2v</span> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <span class="id" title="var">i</span>) <span class="id" title="keyword">as</span> [[τ2|]|];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">monad_norm</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_monotonic</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab370"></a><h1 class="section">Enumeration of module functions and variables.</h1>


<div class="paragraph"> </div>

      TODO: generalize to a fold?
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a name="get_module_functions"><span class="id" title="definition">get_module_functions</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} (<span class="id" title="var">m</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a name="get_module_variables"><span class="id" title="definition">get_module_variables</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} (<span class="id" title="var">m</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.lib.Maps.html#PTree.t"><span class="id" title="definition">PTree.t</span></a> (<a class="idref" href="compcert.common.Errors.html#res"><span class="id" title="inductive">res</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="get_module_functions_spec"><span class="id" title="lemma">get_module_functions_spec</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} {<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>} (<span class="id" title="var">m</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.PTreeModules.html#get_module_functions"><span class="id" title="definition">get_module_functions</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_option_flip"><span class="id" title="definition">res_option_flip</span></a> (<a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.Modules.html#get_module_function"><span class="id" title="method">get_module_function</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_function"><span class="id" title="definition">ptree_module_function</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip_inv"><span class="id" title="lemma">option_res_flip_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a name="get_module_variables_spec"><span class="id" title="lemma">get_module_variables_spec</span></a> {<span class="id" title="var">F</span> <span class="id" title="var">V</span>} {<span class="id" title="var">gv_ops</span>: <a class="idref" href="liblayers.logic.GlobalVars.html#GlobalVarsOps"><span class="id" title="class">GlobalVarsOps</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>} (<span class="id" title="var">m</span>: <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#F"><span class="id" title="variable">F</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#V"><span class="id" title="variable">V</span></a>) <span class="id" title="var">i</span>:<br/>
&nbsp;&nbsp;<a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">(</span></a><a class="idref" href="liblayers.logic.PTreeModules.html#get_module_variables"><span class="id" title="definition">get_module_variables</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a><a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">)</span></a> <a class="idref" href="compcert.lib.Maps.html#e75e87027de4679a2bb49d0ac552f0e1"><span class="id" title="notation">!</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.6/stdlib/Coq.Init.Logic.html#1c39bf18749e5cc609e83c0a0ba5a372"><span class="id" title="notation">=</span></a> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#res_option_flip"><span class="id" title="definition">res_option_flip</span></a> (<a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#i"><span class="id" title="variable">i</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#m"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.Modules.html#get_module_variable"><span class="id" title="method">get_module_variable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_variable"><span class="id" title="definition">ptree_module_variable</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="liblayers.compcertx.ErrorMonad.html#option_res_flip_inv"><span class="id" title="lemma">option_res_flip_inv</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module"><span class="id" title="definition">ptree_module</span></a>.<br/>
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="liblayers.logic.PTreeModules.html#ptree_module_ops"><span class="id" title="instance">ptree_module_ops</span></a>.<br/>

<br/>
<span class="id" title="keyword">Global Opaque</span> <a class="idref" href="liblayers.logic.PTreeModules.html#get_module_functions"><span class="id" title="definition">get_module_functions</span></a> <a class="idref" href="liblayers.logic.PTreeModules.html#get_module_variables"><span class="id" title="definition">get_module_variables</span></a>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>